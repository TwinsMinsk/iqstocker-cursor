# üß™ –¢–µ—Å—Ç—ã

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ IQStocker, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Ç–∏–ø–∞–º –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tests/
‚îú‚îÄ‚îÄ unit/                   # –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_handlers/      # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ test_core/          # –¢–µ—Å—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ test_admin/         # –¢–µ—Å—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îú‚îÄ‚îÄ integration/            # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ fixtures/               # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (CSV —Ñ–∞–π–ª—ã)
‚îî‚îÄ‚îÄ conftest.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –í—Å–µ —Ç–µ—Å—Ç—ã
```bash
pytest
```

### –¢–æ–ª—å–∫–æ —é–Ω–∏—Ç —Ç–µ—Å—Ç—ã
```bash
pytest tests/unit/
```

### –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```bash
pytest tests/integration/
```

### –¢–µ—Å—Ç—ã —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏
```bash
pytest -m unit              # –¢–æ–ª—å–∫–æ —é–Ω–∏—Ç —Ç–µ—Å—Ç—ã
pytest -m integration       # –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
pytest -m admin             # –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –∞–¥–º–∏–Ω–∫–∏
pytest -m bot               # –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –±–æ—Ç–∞
pytest -m core              # –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã core –ª–æ–≥–∏–∫–∏
```

### –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```bash
pytest --cov=bot --cov=core --cov-report=html
```

## –ú–∞—Ä–∫–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

- `unit` - –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã
- `integration` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã  
- `slow` - –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `admin` - –¢–µ—Å—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- `bot` - –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞
- `core` - –¢–µ—Å—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–¢–µ—Å—Ç–æ–≤—ã–µ CSV —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `fixtures/`:
- `test_portfolio.csv` - –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å
- `simple_test_portfolio.csv` - –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å
- `advanced_test_portfolio.csv` - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `pytest.ini` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
