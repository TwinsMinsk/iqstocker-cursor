# üéâ –ü–†–û–ë–õ–ï–ú–ê –° MARKDOWN –≠–ö–†–ê–ù–ò–†–û–í–ê–ù–ò–ï–ú –†–ï–®–ï–ù–ê!

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –ø–∞–¥–∞–ª —Å –æ—à–∏–±–∫–æ–π:
```
TelegramBadRequest: Telegram server says - Bad Request: can't parse entities: Character '-' is reserved and must be escaped with the preceding '\'
```

## üîç –ü—Ä–∏—á–∏–Ω–∞
–í —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã Markdown (`-`, `(`, `)`, `.`, `!`), –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è Telegram.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```python
def escape_markdown(text: str) -> str:
    """–≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è Markdown."""
    return text.replace('-', '\\-').replace('(', '\\(').replace(')', '\\)').replace('.', '\\.').replace('!', '\\!')
```

### 2. –ò—Å–ø—Ä–∞–≤–∏–ª–∏ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
–ó–∞–º–µ–Ω–∏–ª–∏ –≤—Å–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏:

**–ë—ã–ª–æ:**
```python
await message.answer("CSV-—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω!")
```

**–°—Ç–∞–ª–æ:**
```python
await message.answer(escape_markdown("CSV-—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω!"))
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ "CSV-—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω!" ‚Üí "CSV\\-—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω\\!"
- ‚úÖ "–†–∞–∑–º–µ—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤):" ‚Üí "–†–∞–∑–º–µ—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è \\(–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤\\):"
- ‚úÖ "–õ–∏–º–∏—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º." ‚Üí "–õ–∏–º–∏—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º\\."
- ‚úÖ "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —á–∏—Å–ª–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:" ‚Üí "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —á–∏—Å–ª–æ\\. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:"
- ‚úÖ "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞: {error}" ‚Üí —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ "‚úÖ –ì–æ—Ç–æ–≤–æ\n–§–∞–π–ª –æ–±—Ä–∞–±–æ—Ç–∞–Ω - —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞–∑–¥–µ–ª–∞–º." ‚Üí —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ "–°–ø–∞—Å–∏–±–æ, –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—è–ª ‚úÖ\n–ü–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ (1-2 –º–∏–Ω—É—Ç—ã)" ‚Üí —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `escape_markdown` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```
1. –ò—Å—Ö–æ–¥–Ω–∞—è: CSV-—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω!
   –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: CSV\-—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω\!

2. –ò—Å—Ö–æ–¥–Ω–∞—è: –†–∞–∑–º–µ—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤):
   –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: –†–∞–∑–º–µ—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è \(–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤\):

3. –ò—Å—Ö–æ–¥–Ω–∞—è: –õ–∏–º–∏—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º.
   –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: –õ–∏–º–∏—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º\.

4. –ò—Å—Ö–æ–¥–Ω–∞—è: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —á–∏—Å–ª–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:
   –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —á–∏—Å–ª–æ\. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:

5. –ò—Å—Ö–æ–¥–Ω–∞—è: –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞: FileNotFoundError
   –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞: FileNotFoundError

6. –ò—Å—Ö–æ–¥–Ω–∞—è: ‚úÖ –ì–æ—Ç–æ–≤–æ
–§–∞–π–ª –æ–±—Ä–∞–±–æ—Ç–∞–Ω - —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞–∑–¥–µ–ª–∞–º.
   –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: ‚úÖ –ì–æ—Ç–æ–≤–æ
–§–∞–π–ª –æ–±—Ä–∞–±–æ—Ç–∞–Ω \- —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞–∑–¥–µ–ª–∞–º\.

7. –ò—Å—Ö–æ–¥–Ω–∞—è: –°–ø–∞—Å–∏–±–æ, –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—è–ª ‚úÖ
–ü–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ (1-2 –º–∏–Ω—É—Ç—ã)
   –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: –°–ø–∞—Å–∏–±–æ, –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—è–ª ‚úÖ
–ü–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ \(1\-2 –º–∏–Ω—É—Ç—ã\)
```

## üöÄ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç
1. **–ó–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–æ–≤** - –±–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª—ã –±–µ–∑ –æ—à–∏–±–æ–∫
2. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** - –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –æ—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è –±–æ—Ç–∞
4. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
5. **–§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - CSV –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:** `python run_local_bot.py`
2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ CSV —Ñ–∞–π–ª** –±–æ—Ç—É –≤ Telegram
3. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º** –±–æ—Ç–∞ –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
4. **–î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞–±–æ—Ç–∫–∏** (1-2 –º–∏–Ω—É—Ç—ã)
5. **–ü–æ–ª—É—á–∏—Ç–µ –æ—Ç—á–µ—Ç** —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø—Ä–æ–¥–∞–∂

## üîß –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `test_markdown_fix.py` - —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π Markdown —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

## üéØ –ò—Ç–æ–≥
**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** –ë–æ—Ç —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ Markdown –∏ –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ CSV —Ñ–∞–π–ª–æ–≤.
