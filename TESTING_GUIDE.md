# üß™ Testing Guide for IQStocker Bot

## –û–±–∑–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ IQStocker Bot –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –Ω–∞ Railway.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º)
```bash
python test_quick.py
```
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 —Å–µ–∫—É–Ω–¥  
**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### 2. –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python run_all_tests.py
```
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~5-10 –º–∏–Ω—É—Ç  
**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã

### üî¨ Unit Tests
```bash
# –í—Å–µ unit —Ç–µ—Å—Ç—ã
python -m pytest tests/ -v

# –¢–æ–ª—å–∫–æ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
python -m pytest tests/test_ai_components.py -v

# –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
python -m pytest tests/test_ai_integration.py -v
```

### üß™ Comprehensive Tests
```bash
python test_comprehensive.py
```
**–¢–µ—Å—Ç–∏—Ä—É–µ—Ç:**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –í—Å–µ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- Bot handlers
- Enhanced Theme Manager
- Report Generator
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- Health check

### üè≠ Production Tests
```bash
python test_production.py
```
**–¢–µ—Å—Ç–∏—Ä—É–µ—Ç:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –§–æ—Ä–º–∞—Ç URL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –§–∞–π–ª requirements.txt
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
- Health check endpoint
- Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### ü§ñ Bot Tests
```bash
python test_bot_local.py
```
**–¢–µ—Å—Ç–∏—Ä—É–µ—Ç:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –±–æ—Ç–∞
- –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö handlers
- –ò–º–ø–æ—Ä—Ç keyboards
- –ò–º–ø–æ—Ä—Ç middlewares
- –ò–º–ø–æ—Ä—Ç states
- –ò–º–ø–æ—Ä—Ç utils
- –ò–º–ø–æ—Ä—Ç core –º–æ–¥—É–ª–µ–π
- –ò–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–µ–π –ë–î
- –ò–º–ø–æ—Ä—Ç config –º–æ–¥—É–ª–µ–π
- –ò–º–ø–æ—Ä—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## üéØ –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
pip install -r requirements.txt

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
python init_railway_db.py
```

### –≠—Ç–∞–ø 2: –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
python test_quick.py
```

### –≠—Ç–∞–ø 3: –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ï—Å–ª–∏ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
python run_all_tests.py
```

### –≠—Ç–∞–ø 4: Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
python test_production.py
```

## üîß Troubleshooting

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PYTHONPATH
export PYTHONPATH="${PYTHONPATH}:$(pwd)"

# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–æ–≤
import sys
import os
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))
```

### –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
python -c "from config.database import SessionLocal; print('DB OK')"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
alembic current
alembic history
```

### –û—à–∏–±–∫–∏ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏
python -c "from config.settings import settings; print('OpenAI:', bool(settings.openai_api_key))"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redis
python -c "from config.database import redis_client; print('Redis:', redis_client.ping())"
```

## üìä –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã
```
‚úÖ All quick tests passed! Ready for deployment.
```
**–î–µ–π—Å—Ç–≤–∏–µ:** –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –¥–µ–ø–ª–æ—é

### ‚ùå –ù–µ—É—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã
```
‚ùå Some tests failed. Check errors above.
```
**–î–µ–π—Å—Ç–≤–∏–µ:** –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã —Å–Ω–æ–≤–∞

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —É—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã
```
Success Rate: 85.0%
```
**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ —Ä–µ—à–∏—Ç–µ, –∫—Ä–∏—Ç–∏—á–Ω—ã –ª–∏ –æ–Ω–∏

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- ‚úÖ –í—Å–µ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- ‚úÖ Production —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ (100% success rate)
- ‚úÖ Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- ‚úÖ Code quality –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### Health Check
```bash
curl https://your-app.railway.app/health
```

### –õ–æ–≥–∏
```bash
# Railway CLI
railway logs

# –ò–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Railway
```

### –ú–µ—Ç—Ä–∏–∫–∏
- Response time < 2 —Å–µ–∫—É–Ω–¥—ã
- Success rate > 95%
- Memory usage < 512MB
- CPU usage < 50%

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- [ ] Production —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- [ ] Redis –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] API –∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- [ ] Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- [ ] Health check —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫** - –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ë–î –∏ Redis –¥–æ—Å—Ç—É–ø–Ω—ã
5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏** - –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [AI Features Guide](docs/AI_FEATURES_GUIDE.md)
- [Deployment Guide](docs/DEPLOYMENT_GUIDE.md)
- [Troubleshooting Guide](docs/TROUBLESHOOTING.md)
