# –û—Ç—á–µ—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã —Ç–µ–º –≤ Supabase

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –û–±–Ω–æ–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- **–§–∞–π–ª**: `scripts/data/import_themes_to_supabase.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**: 
  - –û–±–Ω–æ–≤–ª–µ–Ω –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É: —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `themes_processed.csv` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —á—Ç–µ–Ω–∏—è CSV —Å —É—á–µ—Ç–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞ "theme"
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

### 2. –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–§–∞–π–ª**: `scripts/data/verify_themes_migration.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º –≤ –±–∞–∑–µ
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º READY –∏ ISSUED
  - –í—ã–≤–æ–¥–∏—Ç –ø—Ä–∏–º–µ—Ä—ã —Ç–µ–º
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞–¥–º–∏–Ω–∞
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏

### 3. –°–æ–∑–¥–∞–Ω –±—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
- **–§–∞–π–ª**: `migrate_themes.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–º–ø–æ—Ä—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∫—É
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  - –í—ã–≤–æ–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–∏–º –¥–µ–π—Å—Ç–≤–∏—è–º

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–§–∞–π–ª**: `THEMES_MIGRATION_GUIDE.md`
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**:
  - –£–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É `themes_processed.csv`
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∫—Ä–∏–ø—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (2044 —Ç–µ–º—ã)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã —Ç–µ–º

- **–ò—Å—Ç–æ—á–Ω–∏–∫**: `themes_processed.csv`
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º**: 2044
- **–§–æ—Ä–º–∞—Ç**: CSV —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "theme"
- **–ü—Ä–∏–º–µ—Ä—ã —Ç–µ–º**: "Abuse", "Access", "Academic", "Bank account", "Business", –∏ —Ç.–¥.

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
python migrate_themes.py
```

### –ü–æ—à–∞–≥–æ–≤—ã–π –∑–∞–ø—É—Å–∫:
```bash
# 1. –ò–º–ø–æ—Ä—Ç —Ç–µ–º
python scripts/data/import_themes_to_supabase.py

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
python scripts/data/verify_themes_migration.py
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:
- –í —Ç–∞–±–ª–∏—Ü–µ `theme_requests` –±—É–¥–µ—Ç 2044 —Ç–µ–º—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "READY"
- –†–∞–∑–¥–µ–ª "–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–º—ã" –≤ –±–æ—Ç–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ —Ç–µ–º—ã –∏–∑ –±–∞–∑—ã
- –ê—Ä—Ö–∏–≤ —Ç–µ–º –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—ã–¥–∞–Ω–Ω—ã—Ö —Ç–µ–º

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Supabase:
```sql
theme_requests:
- id: int (PK)
- user_id: int (FK to users)
- theme_name: varchar(255)
- status: varchar(50) -- "READY", "ISSUED", "PENDING"
- created_at: timestamp
- updated_at: timestamp
```

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
1. **READY**: —Ç–µ–º—ã –≥–æ—Ç–æ–≤—ã –∫ –≤—ã–¥–∞—á–µ (2044 –∏–∑ CSV)
2. **ISSUED**: —Ç–µ–º—ã, –≤—ã–¥–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
3. **PENDING**: —Ç–µ–º—ã –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É. –ë–∞–∑–∞ —Ç–µ–º –∏–∑ `themes_processed.csv` –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ Supabase –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å —Å–∏—Å—Ç–µ–º–æ–π –≤—ã–¥–∞—á–∏ —Ç–µ–º –≤ –±–æ—Ç–µ.
